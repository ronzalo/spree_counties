<!-- insert_bottom "div[data-hook=address_fields]" -->
<div class="form-group <%= "#{type}-row" %>">
  <%= f.label :county_id, Spree.t(:county) %>
  <span id="<%= s_or_b %>county">
    <%= f.text_field :county_name,
          style: "display: #{f.object.state.try(:counties).try(:empty?) ? 'block' : 'none' };",
          disabled: !f.object.state.try(:counties).try(:empty?), class: 'form-control county_name' %>
    <%= f.collection_select :county_id, (f.object.state.try(:counties).try(:sort) ? f.object.state.try(:counties).try(:sort) : []), :id, :name, { include_blank: true }, { class: 'select2', style: "display: #{f.object.state.try(:counties).try(:empty?) ? 'none' : 'block' };", disabled: f.object.state.try(:counties).try(:empty?) } %>
  </span>
</div>